<!DOCTYPE html>

<!--0xd3bAe0266b268ABb8296B7FC52DC67C5aC9817560xd3bAe0266b268ABb8296B7FC52DC67C5aC981756-->
<html>
    <head>
	    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
	    <script>
		const web3 = new Web3(Web3.givenProvider || "ws://localhost:7545");
		web3.eth.getAccounts().then(e => { 
		 web3.eth.defaultAccount = e[0]
		 console.log("A: " + e[0]);
		}) 
		var abi = [
		    {
		      "inputs": [
			{
			  "internalType": "uint256",
			  "name": "num1",
			  "type": "uint256"
			},
			{
			  "internalType": "uint256",
			  "name": "num2",
			  "type": "uint256"
			}
		      ],
		      "name": "add",
		      "outputs": [
			{
			  "internalType": "uint256",
			  "name": "",
			  "type": "uint256"
			}
		      ],
		      "stateMutability": "view",
		      "type": "function",
		      "constant": true
		    },
		    {
		      "inputs": [
			{
			  "internalType": "uint256",
			  "name": "num1",
			  "type": "uint256"
			},
			{
			  "internalType": "uint256",
			  "name": "num2",
			  "type": "uint256"
			}
		      ],
		      "name": "subtract",
		      "outputs": [
			{
			  "internalType": "uint256",
			  "name": "",
			  "type": "uint256"
			}
		      ],
		      "stateMutability": "view",
		      "type": "function",
		      "constant": true
		    },
		    {
		      "inputs": [
			{
			  "internalType": "uint256",
			  "name": "num1",
			  "type": "uint256"
			},
			{
			  "internalType": "uint256",
			  "name": "num2",
			  "type": "uint256"
			}
		      ],
		      "name": "multiply",
		      "outputs": [
			{
			  "internalType": "uint256",
			  "name": "",
			  "type": "uint256"
			}
		      ],
		      "stateMutability": "view",
		      "type": "function",
		      "constant": true
		    },
		    {
		      "inputs": [
			{
			  "internalType": "uint256",
			  "name": "num1",
			  "type": "uint256"
			},
			{
			  "internalType": "uint256",
			  "name": "num2",
			  "type": "uint256"
			}
		      ],
		      "name": "divide",
		      "outputs": [
			{
			  "internalType": "uint256",
			  "name": "",
			  "type": "uint256"
			}
		      ],
		      "stateMutability": "view",
		      "type": "function",
		      "constant": true
		    }
		  ];
		var address = "0x783c75406C0a0849678415Dd19B760aD347Ac5a0";
	    	var contract = new web3.eth.Contract(abi, address, web3.eth.defaultAccount);
		contract.methods.add(2,2).call(function (err, res) {
		  if (err) {
		    console.log("An error occured", err)
		    return
		  }
		    console.log("ANS:"+res);
		})

		async function myFunction(firstnumber, secondnumber){
		    	const ans = await contract.methods.add(firstnumber,secondnumber).call();
		    	alert(String(ans));
		}

	    </script>
    </head>

    <title>Smart_Contract</title>
    <body>
        <!-- the content goes here -->

	<!-- ADD IN FORM TO INTERACT WITH SMART CONTRACT HERE -->
	<form id="frm1" action="javascript:void(0);" onSubmit="myFunction()">
	  First Number: <input type="number" name="fnumber" id="fnumber"><br>
	  Second Number: <input type="number" name="snumber" id="snumber"><br><br>
	  <input type="button" onclick="myFunction(document.getElementById('fnumber').valueAsNumber, document.getElementById('snumber').valueAsNumber)" value="Submit">
	</form>
    </body>
</html>
