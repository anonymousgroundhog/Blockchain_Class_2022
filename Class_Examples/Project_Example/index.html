<!doctype html>
<html lang="en">
   <head>
      <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
      <script type='text/javascript'>
         const abi = 
         [
         {
         	"inputs": [],
         	"stateMutability": "payable",
         	"type": "constructor"
         },
         {
         	"inputs": [
         		{
         			"internalType": "string",
         			"name": "email",
         			"type": "string"
         		},
         		{
         			"internalType": "string",
         			"name": "name",
         			"type": "string"
         		},
         		{
         			"internalType": "string",
         			"name": "loc",
         			"type": "string"
         		}
         	],
         	"name": "CreateRetailer",
         	"outputs": [],
         	"stateMutability": "nonpayable",
         	"type": "function"
         },
         {
         	"inputs": [
         		{
         			"internalType": "string",
         			"name": "mail",
         			"type": "string"
         		}
         	],
         	"name": "Getretailer",
         	"outputs": [
         		{
         			"internalType": "string",
         			"name": "",
         			"type": "string"
         		},
         		{
         			"internalType": "string",
         			"name": "",
         			"type": "string"
         		}
         	],
         	"stateMutability": "view",
         	"type": "function"
         }
         ];
         const web3 = new Web3(Web3.givenProvider || "ws://localhost:7545");
         web3.eth.defaultAccount= "0x59F2F580Ff35B7707325C7364154F50FfDf3BC6E";
         var contract = new web3.eth.Contract(abi, "0x786AFEB23Fd34fe7E1f07Ece189904D280434824");
         
         async function sendData(email, name, address){
         	var sent = await contract.methods.CreateRetailer(email, name, address).send({from: web3.eth.defaultAccount});
         	console.log(sent);
         	var get = await contract.methods.Getretailer(email).call();
         	console.log(get);
         }
         //sendData();
             
      </script>   
      <title >Manufacturer Registartion</title>
   </head>
   <body>
	   <h1>Manufacturer Registration</h1>
	   <center>
		<form id="frm1" action="javascript:void(0);" onSubmit="myFunction()">
		  Email: <input type="string" name="email" id="email"><br>
		  Name: <input type="string" name="name" id="name"><br><br>
		  Address: <input type="string" name="address" id="address"><br><br>
		  <input type="button" onclick="sendData(document.getElementById('email').value, document.getElementById('name').value, document.getElementById('address').value)" value="Submit">
		</form>
	   </center>
   </body>
</html>
